
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>SmartEmbed — CivicPlus / SharePoint Embeds</title>
  <link rel="stylesheet" href="../../assets/style.css"/>
</head>
<body>
  <header class="header no-print">
    <img class="logo" src="../../assets/logo.svg" alt="SmartTown logo"/>
    <div><h1>SmartEmbed — CivicPlus / SharePoint</h1><div class="sub">Generate safe embed snippets (placeholders only)</div></div>
    <div style="margin-left:auto"><a href="../../index.html"><button class="ghost">Back</button></a></div>
  </header>

  <div class="container">
    <div class="card">
      <div class="kicker">Embed Generator</div>
      <form id="e-form" class="grid cols-3">
        <div><label>Module</label>
          <select id="mod">
            <option value="modules/fix/">SmartFIX</option>
            <option value="modules/permit/">SmartPERMIT</option>
            <option value="modules/fiscal/">SmartFISCAL</option>
            <option value="modules/timesheet/">SmartTIME</option>
            <option value="modules/clerk/">SmartCLERK</option>
            <option value="modules/vault/">SmartVAULT</option>
          </select>
        </div>
        <div><label>Base URL</label><input id="base" placeholder="https://example.town/smarttown/public/" /></div>
        <div style="display:flex;align-items:flex-end"><button type="button" id="gen">Generate</button></div>
      </form>
    </div>

    <div class="card">
      <div class="kicker">CivicPlus / Static Site</div>
      <pre class="code" id="civic"></pre>
      <div class="kicker" style="margin-top:10px">SharePoint</div>
      <pre class="code" id="sp"></pre>
      <div class="small">Placeholders only; replace Base URL with your hosted path.</div>
    </div>
  </div>

  <script src="../../../lib/utils.js"></script>
  <script>
    theme.init();
    document.getElementById('gen').addEventListener('click', ()=>{
      const base = document.getElementById('base').value.trim()||'https://example.town/smarttown/public/';
      const mod = document.getElementById('mod').value;
      const src = base.replace(/\/$/,'/') + mod;
      const civic = `<!-- CivicPlus / Static Embed -->\n<iframe src="${src}" width="100%" height="800" style="border:0;border-radius:12px"></iframe>`;
      const sp = `<!-- SharePoint Embed -->\n<iframe src="${src}" width="100%" height="800" frameborder="0"></iframe>`;
      document.getElementById('civic').textContent = civic;
      document.getElementById('sp').textContent = sp;
      toast('Embed code ready');
    });
  </script>
</body>
</html>
